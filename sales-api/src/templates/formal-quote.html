<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{tipo_documento}} - Formal</title>

  <style>
    :root{
      --ink:#0f172a;
      --muted:#475569;
      --line:#cbd5e1;

      --accent:#6c7cff;      /* azul/lila */
      --accentSoft:#aeb8ff;  /* más claro */
      --panel:#e7ecff;       /* panel terms */
      --bg:#ffffff;
    }

    *{ margin:0; padding:0; box-sizing:border-box; }

    body{
      font-family: Arial, Helvetica, sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.35;
    }

    /* PAGE */
    .page{
      width: 210mm;
      min-height: 297mm;
      margin: 0 auto;
      padding: 18mm 16mm 20mm 16mm;
      position: relative;
      overflow: hidden;
      background: var(--bg);
    }

    /* DECOR: diagonal corners */
    .diag-top-left, .diag-bottom-right{
      position:absolute;
      width: 110px;
      height: 110px;
      opacity:.25;
      pointer-events:none;
      background:
        repeating-linear-gradient(
          135deg,
          var(--accent) 0px,
          var(--accent) 4px,
          transparent 4px,
          transparent 12px
        );
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    .diag-top-left{ top:0; left:0; }
    .diag-bottom-right{ bottom: 20mm; right:0; }

    /* DECOR: dotted guide lines top/bottom */
    .dash-top, .dash-bottom{
      position:absolute;
      left: 16mm;
      right: 16mm;
      height: 0;
      border-top: 3px dashed var(--accentSoft);
      opacity:.9;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    .dash-top{ top: 12mm; }
    .dash-bottom{ bottom: 12mm; }

    /* HEADER */
    .header{
      display:flex;
      justify-content: space-between;
      gap: 16mm;
      align-items:flex-start;
      margin-top: 8mm;
      position: relative;
      z-index: 2;
    }

    .title-wrap{
      flex: 1;
    }

    .doc-title{
      display:inline-block;
      background: rgba(108,124,255,.35);
      padding: 10px 18px;
      font-size: 26px;
      font-weight: 900;
      letter-spacing: .4px;
      text-transform: uppercase;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .meta{
      margin-top: 14px;
      font-size: 12.5px;
      color: var(--ink);
    }
    .meta .row{ margin: 3px 0; }
    .meta .label{ font-weight: 900; }

    .brand{
      min-width: 78mm;
      text-align:right;
    }
    .brand .logo{
      width: 48px;
      height: 48px;
      margin-left:auto;
      margin-bottom: 8px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .brand .logo img{
      max-width:100%;
      max-height:100%;
      object-fit: contain;
    }
    .brand .company{
      font-size: 22px;
      font-weight: 900;
      letter-spacing: .4px;
      text-transform: uppercase;
      color: var(--ink);
    }
    .brand .rfc{
      margin-top: 4px;
      font-size: 11px;
      color: var(--muted);
    }
    .status{
      display:inline-block;
      margin-top: 10px;
      padding: 5px 10px;
      border: 1px solid var(--accent);
      border-radius: 999px;
      font-size: 11px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .6px;
      color: var(--accent);
      background: rgba(108,124,255,.10);
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    /* FROM / TO */
    .fromto{
      display:flex;
      justify-content: space-between;
      gap: 16mm;
      margin-top: 16mm;
      position: relative;
      z-index: 2;
    }
    .card{
      width: 50%;
      font-size: 12.5px;
    }
    .card .head{
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .6px;
      margin-bottom: 6px;
      color: var(--ink);
    }
    .card p{ margin: 3px 0; }
    .muted{ color: var(--muted); }

    /* SECTION TITLE */
    .section-title{
      margin-top: 16mm;
      text-align:center;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .8px;
      font-size: 14px;
      position: relative;
      z-index: 2;
    }

    /* TABLE */
    .table-wrap{
      margin-top: 10mm;
      position: relative;
      z-index: 2;
    }
    table{
      width: 100%;
      border-collapse: collapse;
      font-size: 12.5px;
    }
    thead th{
      background: rgba(108,124,255,.45);
      border: 1px solid var(--ink);
      padding: 10px 10px;
      font-weight: 900;
      text-transform: capitalize;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    tbody td{
      border: 1px solid var(--ink);
      padding: 10px 10px;
      background:#fff;
    }

    /* column sizing + alignment */
    .c-desc{ width: 48%; font-weight: 700; }
    .c-qty{ width: 14%; text-align:center; font-weight: 800; }
    .c-unit{ width: 19%; text-align:right; font-weight: 800; }
    .c-total{ width: 19%; text-align:right; font-weight: 900; }

    /* SUMMARY ROWS (optional) — if you want to inject extra rows in items, it will still style fine */

    /* TERMS + TOTALS */
    .bottom-grid{
      margin-top: 14mm;
      display:grid;
      grid-template-columns: 1fr 72mm;
      gap: 14mm;
      align-items:start;
      position: relative;
      z-index: 2;
    }

    .terms .head{
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .6px;
      margin-bottom: 8px;
      font-size: 13px;
    }
    .terms-box{
      background: var(--panel);
      padding: 12px 14px;
      border-left: 6px solid var(--accent);
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    .terms-box .content{
      font-size: 11.5px;
      color: var(--muted);
      line-height: 1.55;
      white-space: pre-line;
    }

    .totals{
      width: 100%;
      border: 1px solid var(--ink);
    }
    .totals table{
      width:100%;
      border-collapse: collapse;
      font-size: 12.5px;
    }
    .totals td{
      border: 1px solid var(--ink);
      padding: 10px 10px;
    }
    .t-label{
      width: 62%;
      text-align:right;
      color: var(--muted);
      font-weight: 800;
    }
    .t-value{
      width: 38%;
      text-align:right;
      font-weight: 900;
    }
    .t-total{
      background: rgba(108,124,255,.45);
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    /* FOOTER CONTACT (optional) */
    .footer{
      position:absolute;
      left: 16mm;
      right: 16mm;
      bottom: 6mm;
      text-align:center;
      font-size: 11px;
      color: var(--muted);
      z-index: 2;
    }

    @media print{
      body{ background:#fff; }
      .page{ margin:0; }
      .doc-title, thead th, .terms-box, .t-total,
      .diag-top-left, .diag-bottom-right, .dash-top, .dash-bottom{
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="diag-top-left"></div>
    <div class="diag-bottom-right"></div>
    <div class="dash-top"></div>
    <div class="dash-bottom"></div>

    <!-- Header -->
    <div class="header">
      <div class="title-wrap">
        <div class="doc-title">{{tipo_documento}}</div>

        <div class="meta">
          <div class="row"><span class="label">Cotizacion #:</span> {{folio}}</div>
          <div class="row"><span class="label">Dia:</span> {{fecha}}</div>
          <div class="row"><span class="label">Valido hasta:</span> {{fecha_validez}}</div>
        </div>
      </div>

      <div class="brand">
        <div class="logo">
          <img src="{{logo}}" alt="Logo">
        </div>
        <div class="company">{{sucursal_nombre}}</div>
        <div class="rfc">RFC: {{empresa_rfc}}</div>
        <div class="status">{{estado}}</div>
      </div>
    </div>

    <!-- From / To -->
    <div class="fromto">
      <div class="card">
        <div class="head">Empresa:</div>
        <p><strong>{{sucursal_nombre}}</strong></p>
        <p class="muted">{{sucursal_calle}}</p>
        <p class="muted">{{sucursal_ciudad}} C.P. {{sucursal_codigoPostal}}</p>
        <p class="muted">Tel: {{sucursal_telefono}}</p>
        <p class="muted">Email: {{sucursal_email}}</p>
      </div>

      <div class="card" style="text-align:right;">
        <div class="head">To:</div>
        <p><strong>{{cliente}}</strong></p>
        <p class="muted">{{direccion}}</p>
        <p class="muted">Tel: {{telefono}}</p>
        <p class="muted">Email: {{sucursal_email}}</p>
        <p class="muted">RFC: {{rfc}}</p>
      </div>
    </div>

    <div class="section-title">Detalles</div>

    <!-- Items -->
    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th class="c-desc">Cantidad</th>
            <th class="c-qty">Descripcion</th>
            <th class="c-unit">Precio U.</th>
            <th class="c-total">Total</th>
          </tr>
        </thead>
        <tbody>
          {{items}}
          <!-- Puedes inyectar rows extra si tu backend los genera (shipping, otros, etc.) -->
        </tbody>
      </table>
    </div>

    <!-- Terms + Totals -->
    <div class="bottom-grid">
      <div class="terms">
        <div class="head">Terms and Condiciones</div>
        <div class="terms-box">
          <div class="content">{{terminos_condiciones}}</div>
        </div>
      </div>

      <div class="totals">
        <table>
          <tr>
            <td class="t-label">Subtotal</td>
            <td class="t-value">$ {{subtotal}}</td>
          </tr>
          <tr>
            <td class="t-label">Impuestos</td>
            <td class="t-value">$ {{impuestos}}</td>
          </tr>
          <tr>
            <td class="t-label t-total">Total</td>
            <td class="t-value t-total">$ {{total}}</td>
          </tr>
        </table>
      </div>
    </div>

    <div class="footer">
      {{sucursal_calle}} · {{sucursal_ciudad}} · Tel: {{sucursal_telefono}} · {{sucursal_email}}
    </div>
  </div>
</body>
</html>
